<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- These meta tags come first. -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="viewport" content="width=device-width">
    <!-- SEO Juice -->
    <meta name="description" content="Katie Pollak, Greg Lamp wedding" />
    <meta name="keywords" content="greg lamp, katie pollak, wedding, lamp wedding, pollak wedding, lamp pollak wedding" />

    <title>KP + Greg</title>

    <!-- Favicons -->
    <link rel="shortcut icon" href="public/favicon.ico">

    <!-- Include the CSS -->
    <link href="public/dist/toolkit-minimal.css" rel="stylesheet" />
    <link href="public/dist/balloons.css" rel="stylesheet" />
    <link href="public/dist/custom.css" rel="stylesheet" />

  </head>
  <body>

    <div id="non-ballons">
      <div class="overlayed" style="top: 35%;"></div>
      <div class="overlayed" style="top: 40%;"></div>
      <div class="overlayed" style="top: 45%;"></div>
      <div class="overlayed" style="top: 50%;"></div>
      <div class="overlayed" style="top: 55%;"></div>
      <div class="overlayed" style="top: 60%;"></div>
      <div class="overlayed" style="top: 65%;"></div>

      <nav class="navbar navbar-default navbar-static-top text-uppercase">
        <div class="small-container">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed p-x-0" data-toggle="collapse" data-target="#navbar-collapse">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#">
              <span>KP + Greg</span>
            </a>
          </div>
          <div class="navbar-collapse collapse" id="navbar-collapse">
            <ul class="nav nav-bordered navbar-nav navbar-right">
              <li class="active"><a href="../minimal/index.html">Wedding</a></li>
              <li><a href="#rsvp">RSVP</a></li>
              <li><a target=_blank href="https://www.zola.com/registry/thelamps?preview=true">Registry</a></li>
              <li><a href="https://glamp.github.io/wedding/faq.html">FAQ</a></li>
            </ul>
          </div><!--/.nav-collapse -->
        </div>
      </nav>

      <div class="block block-inverse text-center block-fill-height">
        <div class="block-foreground">
          <h1 style="color: black;" class="block-title text-uppercase">We're Getting Married!</h1>
          <h4 style="color: black;" class="text-muted"><b>December 9th, 2017 / Brooklyn / NY</b></h4>
          <h4 style="color: black;" class="text-muted"><b>501 Union / Gowanus</b></h4>
        </div>
        <div class="block-background">
          <img src="public/img/luisa-rusche-2229.jpg" width="100%" />
          <!-- <img src="public/img/highlights/Katie&Greg_ChristineHanPhotography-215.jpg" width="100%" /> -->
        </div>
      </div>

      <div class="block text-center">
        <div class="block-foreground">
          <h1 class="block-title text-uppercase">Welcome to Brooklyn!</h1>
          <h4 class="text-muted"><b>A little about us</b></h4>
          <div class="container">
             <p>
               We met sake bombing at UVA our 2nd year. We had a great group of friends--many of who you'll meet at the wedding.
               However the timing wasn't right and we eventually went our separate ways, Katie to Africa to work with developing countries and Greg to Washington D.C. and eventually New York.
             </p>
             <p>
               While Katie was with the <a href="#" target="_blank">Peace Corps in Senegal</a>, Greg sent her an e-mail just saying "hi". They were soon pen pals,
               sending letters back and forth--that is, when Katie had Internet! When she returned to Columbia, Greg was living in Brooklyn.
               A <a href="https://www.google.com/maps/dir/382+Court+St,+Brooklyn,+NY+11231/Broadway+%26+W+171st+St,+New+York,+NY+10032/@40.7985667,-73.9892373,12.98z/data=!4m14!4m13!1m5!1m1!1s0x89c25a59bb915d6f:0x61ab156171e800f8!2m2!1d-73.9967099!2d40.681296!1m5!1m1!1s0x89c2f69e863cf125:0x1d5e54664ff1bdc1!2m2!1d-73.9391899!2d40.8432448!3e3" target="_blank">"same-city long distance relationship"</a> quickly became serious. We adopted everyone's
               favorite dog, <a href="https://www.instagram.com/p/3CCTO9Db_9/?taken-by=theglamp" target="_blank">Lia in 2015</a>, moved to Cobble Hill, Brooklyn and <a href="https://www.instagram.com/p/uAPdb-jb_a/?taken-by=theglamp" target="_blank">continued exploring new places</a>, <a href="https://www.eventbrite.com/e/laser-cutting-cut-and-etch-your-own-designs-with-our-laser-cutter-tickets-35597642507" target="_blank">taking off-the-beat
               classes</a>, and got <a href="https://www.instagram.com/p/BK27jnNDfM9TAb2nFYHScRrA0pzLMhz-Kulumc0/?taken-by=kp402" target="_blank">engaged in October of last year</a>!
             </p>
             <p>
               We're really excited to invite you all to Brooklyn to celebrate with us. We hope you have a great time visiting!
             </p>
           </div>
        </div>
      </div>

      <div class="block block-inverse text-center">
        <div class="block-foreground">
          <h1 class="block-title text-uppercase">Weekend Activities</h1>
          <div class="container">
            <div>
              <h3>Welcome Drinks</h3>
              <p>9:30pm | Friday, December 8th</p>
              <p>61 Local | 61 Bergen St, Brooklyn, NY</p>
            </div>
            <hr />
            <div>
              <h3>The Main Event</h3>
              <p>5pm | Saturday, December 9th</p>
              <p>501 Union | 501 Union St, Brooklyn, NY</p>
            </div>
          </div>
        </div>
      </div>

      <div class="block text-center">
        <h1 class="block-title">Accommodations</h1>
        <h4 class="text-muted"><b>There are lots of places to stay in NYC. If you're looking to stay close to the venue, here are a few good options.</b></h4>
        <div class="container-fluid">
          <div class="row">
            <div class="col-sm-4">
              <h3><a href="http://www.marriott.com/hotels/travel/nycbk-new-york-marriott-at-the-brooklyn-bridge/">Brooklyn Bridge Marriott</a></h3>
              <p class="p-x">333 Adams St, Brooklyn, NY 11201</p>
              <p class="p-x">(718) 246-7000</p>
            </div>
            <div class="col-sm-4">
              <h3><a href="http://www3.hilton.com/en/hotels/new-york/hilton-brooklyn-new-york-NYCBSHH/index.html">Brooklyn Hilton</a></h3>
              <p class="p-x">140 Schermerhorn St, Brooklyn, NY 11201</p>
              <p class="p-x">(718) 834-8800</p>
            </div>

            <div class="col-sm-4">
              <h3><a href="https://www.airbnb.com/s/Gowanus--Brooklyn--NY--United-States/homes?allow_override%5B%5D=&checkin=2017-12-08&checkout=2017-12-10&ne_lat=40.69136509860313&ne_lng=-73.98318294885883&room_types%5B%5D=Entire%20home%2Fapt&search_by_map=true&sw_lat=40.67188094742533&sw_lng=-74.00249485376605&zoom=15&s_tag=FG-zwD3-">AirBnB</a></h3>
              <p class="p-x">We suggest staying in Cobble Hill (where we live!), Carroll Gardens, Brooklyn Heights, Gowanus, or Park Slope.</p>
            </div>
          </div>
        </div>
      </div>

      <div id="zola" class="block block-inverse text-center">
        <div class="block-foreground">
          <h1 class="block-title text-uppercase">Registry</h1>
          <h4 class="text-muted">
            If you'd like to give us something, you can find a wide array of gifts by clicking the button below.
          </h4>
          <a href="https://www.zola.com/registry/thelamps?preview=true" class="btn btn-default btn-outline btn-lg m-t">Greg and Katie's Registry</a>
        </div>
      </div>

    <div class="block text-center">
      <div class="block-foreground">
        <h1 class="block-title text-uppercase">Photos</h1>
        <h4 class="text-muted"><b>Can't wait to see you in Brooklyn!</b></h4>
        <div class="container-fluid">
            <div id="image-gallery" class="row">
              <img style="height: 250px; margin: 5px; border-radius: 5px;" src="public/img/highlights/picks/110.jpg" />
              <img style="height: 250px; margin: 5px; border-radius: 5px;" src="public/img/highlights/picks/IMG_2564.jpg" />
              <img style="height: 250px; margin: 5px; border-radius: 5px;" src="public/img/highlights/picks/IMG_2258.jpg" />
              <img style="height: 250px; margin: 5px; border-radius: 5px;" src="public/img/highlights/picks/212.jpg" />
              <img style="height: 250px; margin: 5px; border-radius: 5px;" src="public/img/highlights/picks/IMG_1971.jpg" />
              <img style="height: 250px; margin: 5px; border-radius: 5px;" src="public/img/highlights/picks/DSC_0411.jpg" />
              <img style="height: 250px; margin: 5px; border-radius: 5px;" src="public/img/highlights/picks/179.jpg" />
              <img style="height: 250px; margin: 5px; border-radius: 5px;" src="public/img/highlights/picks/204.jpg" />
              <img style="height: 250px; margin: 5px; border-radius: 5px;" src="public/img/highlights/picks/137.jpg" />
              <img style="height: 250px; margin: 5px; border-radius: 5px;" src="public/img/highlights/picks/IMG_0406.jpg" />
              <img style="height: 250px; margin: 5px; border-radius: 5px;" src="public/img/highlights/picks/205.jpg" />
              <img style="height: 250px; margin: 5px; border-radius: 5px;" src="public/img/highlights/picks/IMG_2637.jpg" />
              <img style="height: 250px; margin: 5px; border-radius: 5px;" src="public/img/highlights/picks/215.jpg" />
              <img style="height: 250px; margin: 5px; border-radius: 5px;" src="public/img/highlights/picks/DSC_0082.jpg" />
              <img style="height: 250px; margin: 5px; border-radius: 5px;" src="public/img/highlights/picks/IMG_2492.jpg" />
              <img style="height: 250px; margin: 5px; border-radius: 5px;" src="public/img/highlights/picks/IMG_1192.jpg" />
              <img style="height: 250px; margin: 5px; border-radius: 5px;" src="public/img/highlights/picks/221.jpg" />
              <img style="height: 250px; margin: 5px; border-radius: 5px;" src="public/img/highlights/picks/IMG_0367.jpg" />
              <img style="height: 250px; margin: 5px; border-radius: 5px;" src="public/img/highlights/picks/172.jpg" />
              <!-- <img style="height: 250px; margin: 5px; border-radius: 5px;" src="public/img/highlights/picks/183.jpg" /> -->
              <img style="height: 250px; margin: 5px; border-radius: 5px;" src="public/img/highlights/picks/127.jpg" />
              <img style="height: 250px; margin: 5px; border-radius: 5px;" src="public/img/highlights/picks/DSC_0242.jpg" />
              <img style="height: 250px; margin: 5px; border-radius: 5px;" src="public/img/highlights/picks/169.jpg" />
              <img style="height: 250px; margin: 5px; border-radius: 5px;" src="public/img/highlights/picks/DSC_0184.jpg" />
              <img style="height: 250px; margin: 5px; border-radius: 5px;" src="public/img/highlights/picks/DSC_0497.jpg" />
              <img style="height: 250px; margin: 5px; border-radius: 5px;" src="public/img/highlights/picks/IMG_0006.jpg" />
              <img style="height: 250px; margin: 5px; border-radius: 5px;" src="public/img/highlights/picks/217.jpg" />
              <img style="height: 250px; margin: 5px; border-radius: 5px;" src="public/img/highlights/picks/IMG_1333.jpg" />
              <img style="height: 250px; margin: 5px; border-radius: 5px;" src="public/img/highlights/picks/134.jpg" />
              <img style="height: 250px; margin: 5px; border-radius: 5px;" src="public/img/highlights/picks/IMG_2026.jpg" />
              <img style="height: 250px; margin: 5px; border-radius: 5px;" src="public/img/highlights/picks/219.jpg" />
              <!-- <img style="height: 250px; margin: 5px; border-radius: 5px;" src="public/img/highlights/picks/226.jpg" /> -->
            </div>
          </div>
        </div>
      </div>

      <div id="rsvp" class="block block-inverse text-center">
        <div class="block-foreground">
          <h1 class="block-title text-uppercase">RSVP</h1>
          <h4 class="text-muted"><b>Coming? Great! Not coming? Bummer, but let us know anyway.</b></h4>



          <form id="gform" method="POST" class="form-inline" action="https://script.google.com/macros/s/AKfycbwY77X9gabP2I0H2_RljzrgV5Mv9JScAYDs3td7UvdVvXRzWKI/exec">
            <input name="name" id="your-name" type="text" class="form-control m-b" placeholder="your name*" required>
            <input name="guest" id="guest-name" type="text" class="form-control m-b" placeholder="guest's name">
            <select name="attending" id="attending" class="form-control m-b custom-select" required>
  						<option value="yes">I'll be there! 😃</option>
  						<option value="no">Sorry, can't make it 😞</option>
            </select>

            <button class="btn btn-default m-b">Submit</button>
          </form>

        </div>
      </div>
    </div>

    <div id="balloons" class="hide">
      <div class="balloon red"></div>
      <div id="canvas">
      </div>
      <div id="score-label">
        Score: <span id="score-count">0</span>
      </div>
      <div id="start-btn">
        <span>Play</span>
      </div>
      <div id="pause-btn">
      </div>
    </div>

    <!-- Include jQuery (required) and the JS -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <script src="public/js/freewall.js"></script>
    <script src="public/dist/toolkit.js"></script>
    <script type="text/javascript">
      $(document).ready(function() {
        $("#gform").on('submit', function(e) {
          e.preventDefault();
          var data = new FormData();
          data.append('name', $("#your-name").val());
          data.append('guest', $("#guest-name").val());
          data.append('attending', $("#attending").val());

          $.ajax({
              url: 'https://script.google.com/macros/s/AKfycbwY77X9gabP2I0H2_RljzrgV5Mv9JScAYDs3td7UvdVvXRzWKI/exec',
              data: data,
              cache: false,
              contentType: false,
              processData: false,
              type: 'POST',
              success: function(data){
                if (data.result=="success") {
                  if ($("#attending").val()=="yes") {
                    $("#rsvp").html("<h1>Great! We'll see you there.</h1>");
                  } else {
                    $("#rsvp").html("<h1>Bummer! Thanks for letting us know.</h1>");
                  }
                } else {
                  $("#rsvp").append("<p>Whoops! Something went wrong. Mind trying that again?</p>");
                }
              },
              error: function(data){
                console.log(JSON.stringify(data));
                $("#rsvp").append("<p>Whoops! Something went wrong. Mind trying that again?</p>");
              }
          });
          return false;
        });
      });

      var wall = new Freewall("#image-gallery");
      wall.fitWidth();

      $(document).scroll(function(evt) {
        var nOverlayed = $('.overlayed').length;
        var idx = Math.round(document.body.scrollTop / document.body.offsetHeight * nOverlayed);
        $('.overlayed').css('background-color', 'white');
        $('.overlayed').slice(0, idx + 1).css('background-color', '#f0ad4e');
      });

      function randomColor() {
        var colors = [
          'green',
          'red',
        ];
        return colors[Math.floor(Math.random() * colors.length)];
      }

      function Game(){
        this.isPaused = true;
        this.score = null;
        this.speed = null;
        this.density = null;
        this.remainingLives = 5;
        this.playElement = document.getElementById('start-btn');
        this.scoreElement = document.getElementById('score-container');
        this.livesElement = document.getElementById('lives-container');
        this.canvasElement = document.getElementById('canvas');
        this.timer = null;
        this.startedTime = null; //time from start game
        this.intervalId = null;
        this.updateTime = null;
        this.densityStep = null;
        this.balloonsArray = null;
        var thiz = this;
        this.updater = function(){
          thiz.updateGame();
        };
      }
      Game.prototype.startGame = function(){
        this.playElement.style.display = "none";
        this.intervalId = setInterval(this.updater, this.updateTime);
      };
      Game.prototype.pauseGame = function(){
        clearInterval(this.intervalId);
      };
      Game.prototype.updateScore = function(score){
        this.scoreElem.innerHTML = score;
      };
      Game.prototype.updateGame = function(){
        this.densityStep += this.density;
        if (this.densityStep > 30 && this.balloonsArray.length > 30) {
          $("#non-ballons").removeClass('hide');
          $("#balloons").addClass('hide');
        } else if (this.densityStep >= 1 && this.balloonsArray.length <= 30) {
          for(var i = 0; i < parseInt(this.densityStep, 10); i++) {
            var tempBalloon = new Balloon(0, -53, randomColor(), 'normal', 150);
            tempBalloon.positionX = tempBalloon.generateRandomXPos();
            var el = document.createElement('div');
            el.className = 'balloon '+ tempBalloon.color;
            el.style.left = tempBalloon.positionX+'px';
            el.style.bottom = tempBalloon.positionY+'px';
            var thiz = this;
            var index = this.balloonsArray.length;
            el.onclick = function(){
              thiz.score += thiz.balloonsArray[index].points;
              if (thiz.balloonsArray[index].color=='red') {
                $("#score-label").css('color', 'yellow');
                setTimeout(function() {
                  $("#score-label").css('color', '#fff');
                }, 500);
              }
              thiz.updateScore(thiz.score);
              this.parentNode.removeChild(el);
            };
            this.canvasElement.appendChild(el);
            var tempObj = {};
            tempObj.el = el;
            tempObj.speed = tempBalloon.getRandomSpeed();
            tempObj.points = tempBalloon.points;
            tempObj.color = tempBalloon.color;
            this.balloonsArray.push(tempObj);
          }
          this.densityStep = 0;
        }
        for(var i = 0; i < this.balloonsArray.length; i++)
        {
          this.balloonsArray[i].el.style.bottom = (parseInt(this.balloonsArray[i].el.style.bottom, 10)+(3+this.balloonsArray[i].speed))+'px';
        }
      };
      Game.prototype.endGame = function(){

      };
      Game.prototype.initGame = function(){
        this.isPaused = true;
        this.score = 0;
        this.speed = 0.01;
        this.density = 1000/8000;
        this.remainingLives = 5;
        this.updateTime = 50;
        this.densityStep = 1;
        this.balloonsArray = [];
        this.scoreElem = document.getElementById('score-count');

      };
      function Balloon(x, y, color, type, points){
        this.positionX = x;
        this.positionY = y;
        this.color = color;
        this.type = type;
        this.points = points * (color=='red' ? 2 : 1);
      }
      Balloon.prototype.getRandomSpeed = function(){
        return Math.floor((this.color=='red' ? 2 : 1) * Math.random() * 201)/100;
      };
      Balloon.prototype.generateRandomXPos = function(){
        return Math.floor(Math.random() * $(document).width());
      };

      $('#your-name').on('change', function(e) {
        var name = $(this).val();
        var balloonists = [
          'Pete Howard',

          'Austin Ogilvie',

          'Jeff Lamp',

          'Francis Hayes',

          'Charlie Pollak',
          'Charles Pollak',

          'Maria Li',
          'Peter Swigert',
          'Pete Swigert',

          'Sam Clay',

          'Colin Ristig',

          'Ross Kippenbrock',


        ];
        if (balloonists.indexOf(name) > -1) {
          giveMeBalloons()
        }
      });

      function giveMeBalloons() {
        $("#non-ballons").addClass('hide');
        $("#balloons").removeClass('hide');
        var a = new Game();
        a.initGame();
        document.getElementById('start-btn').onclick = function(){
          a.startGame();
        };
      }

      // giveMeBalloons();


    </script>
  </body>
</html>
